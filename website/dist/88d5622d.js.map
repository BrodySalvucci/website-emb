{"version":3,"file":"88d5622d.js","sources":["../../node_modules/@mui/icons-material/ArrowDropDown.js","../../node_modules/@mui/icons-material/ArrowDropUp.js","../../node_modules/@mui/icons-material/ArrowLeft.js","../../node_modules/@mui/icons-material/ArrowRight.js","../../node_modules/@mui/icons-material/Close.js","../../node_modules/@mui/icons-material/Panorama.js","../../node_modules/@mui/icons-material/Star.js","../../node_modules/@mui/icons-material/StarBorder.js","../../node_modules/@mui/icons-material/VideogameAsset.js","../../src/pages/theatre/player.tsx"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m7 10 5 5 5-5z\"\n}), 'ArrowDropDown');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m7 14 5-5 5 5z\"\n}), 'ArrowDropUp');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m14 7-5 5 5 5V7z\"\n}), 'ArrowLeft');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m10 17 5-5-5-5v10z\"\n}), 'ArrowRight');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\"\n}), 'Panorama');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n}), 'Star');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"\n}), 'StarBorder');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"\n}), 'VideogameAsset');\nexports.default = _default;","import type { HolyPage } from '../../App';\nimport CommonError from '../../CommonError';\nimport { useGlobalSettings } from '../../Layout';\nimport Meta from '../../Meta';\nimport resolveProxy from '../../ProxyResolver';\nimport { TheatreAPI } from '../../TheatreCommon';\nimport type { TheatreEntry } from '../../TheatreCommon';\nimport { DB_API, THEATRE_CDN } from '../../consts';\nimport { encryptURL } from '../../cryptURL';\nimport isAbortError from '../../isAbortError';\nimport { Obfuscated } from '../../obfuscate';\nimport { getHot } from '../../routes';\nimport styles from '../../styles/TheatrePlayer.module.scss';\nimport ArrowDropDown from '@mui/icons-material/ArrowDropDown';\nimport ArrowDropUp from '@mui/icons-material/ArrowDropUp';\nimport ArrowLeft from '@mui/icons-material/ArrowLeft';\nimport ArrowRight from '@mui/icons-material/ArrowRight';\nimport ChevronLeft from '@mui/icons-material/ChevronLeft';\nimport Close from '@mui/icons-material/Close';\nimport Fullscreen from '@mui/icons-material/Fullscreen';\nimport Panorama from '@mui/icons-material/Panorama';\nimport Star from '@mui/icons-material/Star';\nimport StarBorder from '@mui/icons-material/StarBorder';\nimport VideogameAsset from '@mui/icons-material/VideogameAsset';\nimport clsx from 'clsx';\nimport { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSearchParams } from 'react-router-dom';\n\nasync function resolveSrc(\n\tsrc: TheatreEntry['src'],\n\ttype: TheatreEntry['type'],\n) {\n\tswitch (type) {\n\t\tcase 'proxy':\n\t\t\treturn await resolveProxy(src, 'automatic');\n\t\tcase 'embed':\n\t\t\treturn src;\n\t\tcase 'flash':\n\t\t\treturn `${getHot('compat flash').path}#${encryptURL(src)}`;\n\t\tcase 'emulator':\n\t\tcase 'emulator.gba':\n\t\tcase 'emulator.nes':\n\t\tcase 'emulator.n64':\n\t\tcase 'emulator.genesis':\n\t\t\treturn new URL(\n\t\t\t\t'./html5/webretro/?' +\n\t\t\t\t\tnew URLSearchParams({\n\t\t\t\t\t\trom: src,\n\t\t\t\t\t\tcore: 'autodetect',\n\t\t\t\t\t}),\n\t\t\t\tTHEATRE_CDN,\n\t\t\t).toString();\n\t\tdefault:\n\t\t\tthrow new TypeError(`Unrecognized target: ${type}`);\n\t}\n}\n\n// Play ... may not be appropiate for apps\n// Play TikTok\nconst PlayerMeta = ({ name }: { name?: string }) => (\n\t<Meta\n\t\ttitle={name || 'Player'}\n\t\tdescription={name ? `${name} on Holy Unblocker.` : undefined}\n\t/>\n);\n\nconst Player: HolyPage = () => {\n\tconst { t } = useTranslation('theatre');\n\tconst [searchParams] = useSearchParams();\n\tconst id = searchParams.get('id')!;\n\tif (!id) throw new Error('Bad ID');\n\tconst [settings, setSettings] = useGlobalSettings();\n\tconst [favorited, setFavorited] = useState(() =>\n\t\tsettings.favorites.includes(id),\n\t);\n\tconst [panorama, setPanorama] = useState(false);\n\tconst [controlsExpanded, setControlsExpanded] = useState(false);\n\tconst [error, setError] = useState<{\n\t\tcause?: string;\n\t\tmessage: string;\n\t} | null>(null);\n\tconst [data, setData] = useState<TheatreEntry | null>(null);\n\tconst iframe = useRef<HTMLIFrameElement | null>(null);\n\tconst controlsOpen = useRef<HTMLDivElement | null>(null);\n\tconst [resolvedSrc, setResolvedSrc] = useState<string | null>(null);\n\tconst controlsPopup = useRef<HTMLDivElement | null>(null);\n\tconst [iframeFocused, setIFrameFocused] = useState(true);\n\n\tuseEffect(() => {\n\t\tconst abort = new AbortController();\n\n\t\t(async function () {\n\t\t\tlet errorCause: string | undefined;\n\n\t\t\tconst api = new TheatreAPI(DB_API, abort.signal);\n\n\t\t\ttry {\n\t\t\t\terrorCause = t('error.player.fetch');\n\t\t\t\tconst data = await api.show(id);\n\t\t\t\terrorCause = undefined;\n\t\t\t\terrorCause = t('error.player.resolve');\n\t\t\t\tconst resolvedSrc = await resolveSrc(\n\t\t\t\t\tnew URL(data.src, THEATRE_CDN).toString(),\n\t\t\t\t\tdata.type,\n\t\t\t\t);\n\t\t\t\terrorCause = undefined;\n\t\t\t\tsetData(data);\n\t\t\t\tsetResolvedSrc(resolvedSrc);\n\n\t\t\t\tif (!settings.seenGames.includes(id)) {\n\t\t\t\t\terrorCause = t('error.player.plays');\n\t\t\t\t\tawait api.plays(id);\n\t\t\t\t\tconst { seenGames } = settings;\n\t\t\t\t\tseenGames.push(id);\n\t\t\t\t\tsetSettings({\n\t\t\t\t\t\t...settings,\n\t\t\t\t\t\tseenGames,\n\t\t\t\t\t});\n\n\t\t\t\t\terrorCause = undefined;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tif (!isAbortError(err)) {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t\tsetError({\n\t\t\t\t\t\tcause: errorCause,\n\t\t\t\t\t\tmessage: String(err),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t})();\n\n\t\treturn () => abort.abort();\n\t}, [id, settings, setSettings, t]);\n\n\tuseEffect(() => {\n\t\tfunction focusListener() {\n\t\t\tif (iframeFocused && iframe.current) iframe.current.focus();\n\t\t}\n\n\t\tif (iframeFocused && iframe.current) iframe.current.focus();\n\n\t\tdocument.documentElement.dataset.lockFrameScroll =\n\t\t\tNumber(iframeFocused).toString();\n\t\twindow.addEventListener('focus', focusListener);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('focus', focusListener);\n\t\t\tdelete document.documentElement.dataset.scroll;\n\t\t};\n\t}, [iframeFocused, iframe]);\n\n\tuseEffect(() => {\n\t\tif (!iframe.current) return;\n\n\t\tfunction clickListener() {\n\t\t\tif (iframeFocused) setIFrameFocused(false);\n\t\t}\n\n\t\tif (iframeFocused) {\n\t\t\tdocument.documentElement.scrollTo(0, 0);\n\t\t} else {\n\t\t\tiframe.current!.blur();\n\t\t}\n\n\t\t// window.addEventListener('blur', blurListener);\n\t\twindow.addEventListener('click', clickListener);\n\t\tdocument.documentElement.dataset.lockFrameScroll =\n\t\t\tNumber(iframeFocused).toString();\n\n\t\treturn () => {\n\t\t\tdelete document.documentElement.dataset.lockFrameScroll;\n\t\t\twindow.removeEventListener('click', clickListener);\n\t\t};\n\t}, [data, iframeFocused]);\n\n\tuseEffect(() => {\n\t\tconst listener = () => {\n\t\t\tsetIFrameFocused(document.fullscreenElement === iframe.current);\n\t\t};\n\n\t\tdocument.addEventListener('fullscreenchange', listener);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('fullscreenchange', listener);\n\t\t};\n\t}, []);\n\n\tif (error)\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PlayerMeta />\n\t\t\t\t<CommonError\n\t\t\t\t\tcause={error.cause}\n\t\t\t\t\terror={error.message}\n\t\t\t\t\tmessage={t('error.player.errorMessage')}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\n\tif (!data) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PlayerMeta />\n\t\t\t\t<main\n\t\t\t\t\tclassName={clsx(styles.main, styles.loading)}\n\t\t\t\t\tdata-panorama={Number(panorama)}\n\t\t\t\t\tdata-controls={Number(controlsExpanded)}\n\t\t\t\t>\n\t\t\t\t\t<div className={styles.frame}></div>\n\t\t\t\t\t<div className={styles.title}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/heading-has-content\n\t\t\t\t\t\t\t<h3 className={styles.name} />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className={styles.shiftRight}></div>\n\t\t\t\t\t\t<div className={styles.button} />\n\t\t\t\t\t\t<div className={styles.button} />\n\t\t\t\t\t\t<div className={styles.button} />\n\t\t\t\t\t\t<div className={styles.button} />\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst controls = [];\n\n\tfor (const control of data.controls) {\n\t\tconst visuals = [];\n\n\t\tfor (const key of control.keys) {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'arrows':\n\t\t\t\t\tvisuals.push(\n\t\t\t\t\t\t<div key={key} className={styles.move}>\n\t\t\t\t\t\t\t<ArrowDropUp className={styles.controlKey} />\n\t\t\t\t\t\t\t<ArrowLeft className={styles.controlKey} />\n\t\t\t\t\t\t\t<ArrowDropDown className={styles.controlKey} />\n\t\t\t\t\t\t\t<ArrowRight className={styles.controlKey} />\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'wasd':\n\t\t\t\t\tvisuals.push(\n\t\t\t\t\t\t<div key={key} className={styles.move}>\n\t\t\t\t\t\t\t<div className={styles.controlKey}>W</div>\n\t\t\t\t\t\t\t<div className={styles.controlKey}>A</div>\n\t\t\t\t\t\t\t<div className={styles.controlKey}>S</div>\n\t\t\t\t\t\t\t<div className={styles.controlKey}>D</div>\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tvisuals.push(\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tclassName={clsx(styles.controlKey, styles[`key${key}`])}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{key}\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tcontrols.push(\n\t\t\t<div key={control.label} className={styles.control}>\n\t\t\t\t<div className={styles.visuals}>{visuals}</div>\n\t\t\t\t<span className={styles.label}>{control.label}</span>\n\t\t\t</div>,\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PlayerMeta name={data.name} />\n\t\t\t<main\n\t\t\t\tclassName={styles.main}\n\t\t\t\tdata-panorama={Number(panorama)}\n\t\t\t\tdata-controls={Number(controlsExpanded)}\n\t\t\t>\n\t\t\t\t<div className={styles.frame}>\n\t\t\t\t\t<div className={styles.iframeContainer}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={styles.iframeCover}\n\t\t\t\t\t\t\ttitle={t('click')}\n\t\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\tsetIFrameFocused(true);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<iframe ref={iframe} title=\"Embed\" src={resolvedSrc || undefined} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\tclassName={styles.controls}\n\t\t\t\t\t\tref={controlsPopup}\n\t\t\t\t\t\tonBlur={(event) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!event.target.contains(event.relatedTarget) &&\n\t\t\t\t\t\t\t\t!controlsOpen.current!.contains(event.relatedTarget)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tsetControlsExpanded(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Close\n\t\t\t\t\t\t\tclassName={styles.close}\n\t\t\t\t\t\t\tonClick={() => setControlsExpanded(false)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className={styles.controls}>{controls}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.title}>\n\t\t\t\t\t<h3 className={styles.name}>\n\t\t\t\t\t\t<Obfuscated>{data.name}</Obfuscated>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className={styles.shiftRight}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={styles.button}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tiframe.current!.requestFullscreen();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle={t('fullscreen')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fullscreen />\n\t\t\t\t\t</div>\n\t\t\t\t\t{controls.length !== 0 && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={styles.button}\n\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\tref={controlsOpen}\n\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\tsetControlsExpanded(!controlsExpanded);\n\t\t\t\t\t\t\t\tcontrolsPopup.current!.focus();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle={t('controls')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<VideogameAsset />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={styles.button}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tconst favorites = settings.favorites;\n\t\t\t\t\t\t\tconst i = favorites.indexOf(id);\n\n\t\t\t\t\t\t\tif (i === -1) {\n\t\t\t\t\t\t\t\tfavorites.push(id);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfavorites.splice(i, 1);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetSettings({\n\t\t\t\t\t\t\t\t...settings,\n\t\t\t\t\t\t\t\tfavorites,\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tsetFavorited(favorites.includes(id));\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle={t('favorite')}\n\t\t\t\t\t>\n\t\t\t\t\t\t{favorited ? <Star /> : <StarBorder />}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={styles.button}\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\tsetPanorama(!panorama);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle={t('panorama')}\n\t\t\t\t\t>\n\t\t\t\t\t\t{panorama ? <ChevronLeft /> : <Panorama />}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</>\n\t);\n};\n\nexport default Player;\n"],"names":["_interopRequireDefault","require$$0","ArrowDropDown","default_1","_createSvgIcon","require$$1","_jsxRuntime","require$$2","_default","ArrowDropUp","ArrowLeft","ArrowRight","Close","Panorama","Star","StarBorder","VideogameAsset","resolveSrc","src","type","resolveProxy","getHot","encryptURL","THEATRE_CDN","PlayerMeta","name","jsx","Meta","Player","useTranslation","searchParams","useSearchParams","id","settings","setSettings","useGlobalSettings","favorited","setFavorited","useState","panorama","setPanorama","controlsExpanded","setControlsExpanded","error","setError","data","setData","iframe","useRef","controlsOpen","resolvedSrc","setResolvedSrc","controlsPopup","iframeFocused","setIFrameFocused","useEffect","abort","errorCause","api","TheatreAPI","DB_API","seenGames","err","isAbortError","focusListener","clickListener","listener","jsxs","Fragment","CommonError","clsx","styles","controls","control","visuals","key","event","Obfuscated","Fullscreen","favorites","i","ChevronLeft"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8]}