{"version":3,"file":"9fd87f4b.js","sources":["../../src/RammerheadAPI.ts","../../node_modules/js-cookie/dist/js.cookie.mjs","../../src/pages/compat/rammerhead.tsx"],"sourcesContent":["export class RammerheadAPI {\n\tprivate server: string;\n\tprivate signal?: AbortSignal;\n\tprivate password?: string;\n\tconstructor(server: string, signal?: AbortSignal, password?: string) {\n\t\tthis.server = server;\n\t\tthis.signal = signal;\n\t\tthis.password = password;\n\t}\n\tasync get(url: string) {\n\t\tif (this.password) {\n\t\t\t// really cheap way of adding a query parameter\n\t\t\tif (url.includes('?')) {\n\t\t\t\turl += '&pwd=' + this.password;\n\t\t\t} else {\n\t\t\t\turl += '?pwd=' + this.password;\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\tconst request = await fetch(new URL(url, this.server), {\n\t\t\t\tsignal: this.signal,\n\t\t\t});\n\n\t\t\tif (request.status === 200) {\n\t\t\t\treturn await request.text();\n\t\t\t} else {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`unexpected server response to not match \"200\". Server says \"${await request.text()}\"`,\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t\tthrow new Error('Cannot communicate with the server');\n\t\t}\n\t}\n\tasync needPassword() {\n\t\treturn (await this.get('needpassword')) === 'true';\n\t}\n\tasync newSession() {\n\t\treturn await this.get('newsession');\n\t}\n\tasync editSession(\n\t\tid: string,\n\t\thttpProxy: string | false,\n\t\tenableShuffling: boolean,\n\t) {\n\t\tconst res = await this.get(\n\t\t\t'editsession?id=' +\n\t\t\t\tencodeURIComponent(id) +\n\t\t\t\t(httpProxy ? '&httpProxy=' + encodeURIComponent(httpProxy) : '') +\n\t\t\t\t'&enableShuffling=' +\n\t\t\t\t(enableShuffling ? '1' : '0'),\n\t\t);\n\n\t\tif (res !== 'Success') {\n\t\t\tthrow new Error(`unexpected response from server. received ${res}`);\n\t\t}\n\t}\n\tasync sessionExists(id: string) {\n\t\tconst res = await this.get('sessionexists?id=' + encodeURIComponent(id));\n\n\t\tswitch (res) {\n\t\t\tcase 'exists':\n\t\t\t\treturn true;\n\t\t\tcase 'not found':\n\t\t\t\treturn false;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`unexpected response from server. received ${res}`);\n\t\t}\n\t}\n\tasync deleteSession(id: string) {\n\t\tif (await this.sessionExists(id)) {\n\t\t\tconst res = await this.get('deletesession?id=' + id);\n\n\t\t\tif (res !== 'Success' && res !== 'not found') {\n\t\t\t\tthrow new Error(`unexpected response from server. received ${res}`);\n\t\t\t}\n\t\t}\n\t}\n\tasync shuffleDict(id: string) {\n\t\tconst res = await this.get('api/shuffleDict?id=' + encodeURIComponent(id));\n\t\treturn JSON.parse(res);\n\t}\n}\n\nexport class StrShuffler {\n\tprivate dictionary: string;\n\tbaseDictionary =\n\t\t'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~-';\n\tshuffledIndicator = '_rhs';\n\tconstructor(dictionary?: string) {\n\t\tdictionary ||= this.generateDictionary();\n\t\tthis.dictionary = dictionary;\n\t}\n\tmod(n: number, m: number) {\n\t\treturn ((n % m) + m) % m;\n\t}\n\tgenerateDictionary() {\n\t\tlet str = '';\n\t\tconst split = this.baseDictionary.split('');\n\t\twhile (split.length > 0)\n\t\t\tstr += split.splice(Math.floor(Math.random() * split.length), 1)[0];\n\n\t\treturn str;\n\t}\n\tshuffle(str: string) {\n\t\tif (str.startsWith(this.shuffledIndicator)) return str;\n\t\tlet shuffledStr = '';\n\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\tconst char = str.charAt(i);\n\t\t\tconst idx = this.baseDictionary.indexOf(char);\n\t\t\tif (char === '%' && str.length - i >= 3) {\n\t\t\t\tshuffledStr += char;\n\t\t\t\tshuffledStr += str.charAt(++i);\n\t\t\t\tshuffledStr += str.charAt(++i);\n\t\t\t} else if (idx === -1) shuffledStr += char;\n\t\t\telse\n\t\t\t\tshuffledStr += this.dictionary.charAt(\n\t\t\t\t\tthis.mod(idx + i, this.baseDictionary.length),\n\t\t\t\t);\n\t\t}\n\t\treturn this.shuffledIndicator + shuffledStr;\n\t}\n\tunshuffle(str: string) {\n\t\tif (!str.startsWith(this.shuffledIndicator)) return str;\n\n\t\tstr = str.slice(this.shuffledIndicator.length);\n\n\t\tlet unshuffledStr = '';\n\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\tconst char = str.charAt(i);\n\t\t\tconst idx = this.dictionary.indexOf(char);\n\t\t\tif (char === '%' && str.length - i >= 3) {\n\t\t\t\tunshuffledStr += char;\n\t\t\t\tunshuffledStr += str.charAt(++i);\n\t\t\t\tunshuffledStr += str.charAt(++i);\n\t\t\t} else if (idx === -1) unshuffledStr += char;\n\t\t\telse\n\t\t\t\tunshuffledStr += this.baseDictionary.charAt(\n\t\t\t\t\tthis.mod(idx - i, this.baseDictionary.length),\n\t\t\t\t);\n\t\t}\n\t\treturn unshuffledStr;\n\t}\n}\n","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","import type { HolyPage } from '../../App';\nimport { getDestination } from '../../CompatLayout';\nimport { RammerheadAPI, StrShuffler } from '../../RammerheadAPI';\nimport { RH_API } from '../../consts';\nimport Cookies from 'js-cookie';\nimport { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useLocation } from 'react-router-dom';\n\nfunction patch(url: string) {\n\t// url = _rhsEPrcb://bqhQko.tHR/\n\t// remove slash\n\treturn url.replace(/(^.*?:\\/)\\//, '$1');\n}\n\nconst Rammerhead: HolyPage = ({ compatLayout }) => {\n\tconst { t } = useTranslation('compat');\n\tconst location = useLocation();\n\n\tuseEffect(() => {\n\t\t(async function () {\n\t\t\tlet errorCause: string | undefined;\n\n\t\t\ttry {\n\t\t\t\tconst api = new RammerheadAPI(RH_API);\n\n\t\t\t\t// according to our NGINX config\n\t\t\t\tif (import.meta.env.NODE_ENV === 'production') {\n\t\t\t\t\tCookies.set('auth_proxy', '1', {\n\t\t\t\t\t\tdomain: `.${globalThis.location.host}`,\n\t\t\t\t\t\texpires: 1000 * 60 * 60 * 24 * 7, // 1 week\n\t\t\t\t\t\tsecure: globalThis.location.protocol === 'https:',\n\t\t\t\t\t\tsameSite: 'lax',\n\t\t\t\t\t});\n\n\t\t\t\t\tCookies.set('origin_proxy', globalThis.location.origin, {\n\t\t\t\t\t\texpires: 1000 * 60 * 60 * 24 * 7, // 1 week\n\t\t\t\t\t\tsecure: globalThis.location.protocol === 'https:',\n\t\t\t\t\t\tsameSite: 'lax',\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\terrorCause = t('error.unreachable', { what: 'Rammerhead' });\n\t\t\t\tawait fetch(RH_API);\n\t\t\t\terrorCause = undefined;\n\n\t\t\t\terrorCause = t('error.rammerheadSavedSession');\n\n\t\t\t\tif (\n\t\t\t\t\tlocalStorage.rammerhead_session &&\n\t\t\t\t\t(await api.sessionExists(localStorage.rammerhead_session))\n\t\t\t\t) {\n\t\t\t\t\tconst test = await fetch(\n\t\t\t\t\t\tnew URL(localStorage.rammerhead_session, RH_API),\n\t\t\t\t\t);\n\n\t\t\t\t\tawait api.deleteSession(localStorage.rammerhead_session);\n\n\t\t\t\t\t// 404 = good, 403 = Sessions must come from the same IP\n\t\t\t\t\tif (test.status === 403) delete localStorage.rammerhead_session;\n\t\t\t\t} else {\n\t\t\t\t\tdelete localStorage.rammerhead_session;\n\t\t\t\t}\n\n\t\t\t\terrorCause = t('error.rammerheadNewSession');\n\t\t\t\tconst session =\n\t\t\t\t\tlocalStorage.rammerhead_session || (await api.newSession());\n\t\t\t\terrorCause = undefined;\n\n\t\t\t\terrorCause = undefined;\n\n\t\t\t\terrorCause = t('error.rammerheadEditSession');\n\t\t\t\tawait api.editSession(session, false, true);\n\t\t\t\terrorCause = undefined;\n\n\t\t\t\terrorCause = t('error.rammerheadDict');\n\t\t\t\tconst dict = await api.shuffleDict(session);\n\t\t\t\terrorCause = undefined;\n\n\t\t\t\tconst shuffler = new StrShuffler(dict);\n\n\t\t\t\tglobalThis.location.replace(\n\t\t\t\t\tnew URL(\n\t\t\t\t\t\t`${session}/${patch(shuffler.shuffle(getDestination(location)))}`,\n\t\t\t\t\t\tRH_API,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t} catch (err) {\n\t\t\t\tcompatLayout.current!.report(err, errorCause, 'Rammerhead');\n\t\t\t}\n\t\t})();\n\t}, [compatLayout, location, t]);\n\n\treturn <main>{t('loading', { what: 'Rammerhead' })}</main>;\n};\n\nexport default Rammerhead;\n"],"names":["RammerheadAPI","server","signal","password","__publicField","url","request","err","id","httpProxy","enableShuffling","res","StrShuffler","dictionary","n","m","str","split","shuffledStr","i","char","idx","unshuffledStr","assign","target","source","key","defaultConverter","value","init","converter","defaultAttributes","set","name","attributes","stringifiedAttributes","attributeName","get","cookies","jar","parts","found","api","patch","Rammerhead","compatLayout","t","useTranslation","location","useLocation","useEffect","errorCause","RH_API","Cookies","test","session","dict","shuffler","getDestination","jsx"],"mappings":"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","x_google_ignoreList":[1]}