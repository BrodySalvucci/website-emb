{"version":3,"file":"22b5cfdb.js","sources":["../../src/CompatAPI.ts","../../src/ProxyResolver.ts","../../node_modules/@mui/icons-material/Fullscreen.js"],"sourcesContent":["import DatabaseAPI from './DatabaseAPI';\n\nexport default class CompatAPI extends DatabaseAPI {\n\tasync compat(host: string) {\n\t\treturn await this.fetch<{ proxy: string }>(`./compat/${host}/`);\n\t}\n}\n","import CompatAPI from './CompatAPI';\nimport { DB_API, DEFAULT_PROXY } from './consts';\nimport { encryptURL } from './cryptURL';\nimport { isError } from './isAbortError';\nimport { getHot } from './routes';\n\nexport type FixedProxy = 'ultraviolet' | 'rammerhead';\n\nexport function resolveProxyFixed(src: string, setting: FixedProxy) {\n\tlet route;\n\n\tswitch (setting) {\n\t\tcase 'ultraviolet':\n\t\t\troute = getHot('compat ultraviolet').path;\n\t\t\tbreak;\n\t\tdefault:\n\t\tcase 'rammerhead':\n\t\t\troute = getHot('compat rammerhead').path;\n\t\t\tbreak;\n\t}\n\n\treturn `${route}#${encryptURL(src)}`;\n}\n\nexport default async function resolveProxy(\n\tsrc: string,\n\tsetting: string,\n\tsignal?: AbortSignal,\n) {\n\tif (setting === 'automatic') {\n\t\tconst { host } = new URL(src);\n\t\tconst api = new CompatAPI(DB_API, signal);\n\n\t\ttry {\n\t\t\tsetting = (await api.compat(host)).proxy;\n\t\t} catch (err) {\n\t\t\tif (isError(err) && err.message === 'Not Found') {\n\t\t\t\tsetting = DEFAULT_PROXY;\n\t\t\t} else {\n\t\t\t\tconsole.error(err);\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn resolveProxyFixed(src, setting as FixedProxy);\n}\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n}), 'Fullscreen');\nexports.default = _default;"],"names":["CompatAPI","DatabaseAPI","host","resolveProxyFixed","src","setting","route","getHot","encryptURL","resolveProxy","signal","api","DB_API","err","isError","DEFAULT_PROXY","_interopRequireDefault","require$$0","Fullscreen","default_1","_createSvgIcon","require$$1","_jsxRuntime","require$$2","_default"],"mappings":"6HAEA,MAAqBA,UAAkBC,CAAY,CAClD,MAAM,OAAOC,EAAc,CAC1B,OAAO,MAAM,KAAK,MAAyB,YAAYA,CAAI,GAAG,CAC/D,CACD,CCEgB,SAAAC,EAAkBC,EAAaC,EAAqB,CAC/D,IAAAC,EAEJ,OAAQD,EAAS,CAChB,IAAK,cACIC,EAAAC,EAAO,oBAAoB,EAAE,KACrC,MACD,QACA,IAAK,aACID,EAAAC,EAAO,mBAAmB,EAAE,KACpC,KACF,CAEA,MAAO,GAAGD,CAAK,IAAIE,EAAWJ,CAAG,CAAC,EACnC,CAE8B,eAAAK,EAC7BL,EACAC,EACAK,EACC,CACD,GAAIL,IAAY,YAAa,CAC5B,KAAM,CAAE,KAAAH,CAAS,EAAA,IAAI,IAAIE,CAAG,EACtBO,EAAM,IAAIX,EAAUY,EAAQF,CAAM,EAEpC,GAAA,CACHL,GAAW,MAAMM,EAAI,OAAOT,CAAI,GAAG,YAC3BW,EAAK,CACb,GAAIC,EAAQD,CAAG,GAAKA,EAAI,UAAY,YACzBR,EAAAU,MAEV,eAAQ,MAAMF,CAAG,EACXA,CAER,CACD,CAEO,OAAAV,EAAkBC,EAAKC,CAAqB,CACpD,UC3CIW,EAAyBC,EAC7B,OAAO,eAAeC,EAAS,aAAc,CAC3C,MAAO,EACT,CAAC,EACc,IAAAC,EAAAD,EAAA,QAAG,OACdE,EAAiBJ,EAAuBK,EAAA,CAAgC,EACxEC,EAAcC,EACdC,KAAeJ,EAAe,YAA2BE,EAAY,KAAK,OAAQ,CACpF,EAAG,gFACL,CAAC,EAAG,YAAY,EAChBH,EAAAD,EAAA,QAAkBM","x_google_ignoreList":[2]}